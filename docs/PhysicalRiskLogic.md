# 물리적 리스크 스코어링 로직 정의서

**사업장 기후 물리적 리스크 AI 평가 시스템**  
**Version 1.2**  
**2025-12-11**  
**SK AX | SKALA**

---

## 📋 제·개정 이력

| 버전 | 제·개정 일자 | 제·개정 내용 | 작성자 |
|------|-------------|-------------|--------|
| 0.1 | 2025-11-16 | 최초 등록 | 오동헌 |
| 0.2 | 2025-11-17 | 템플릿 수정 | 정보경 |
| 1.0 | 2025-12-03 | 리스크별 E, V 로직 / 리스크 비교 방법론 추가 | 이창민 |
| 1.1 | 2025-12-05 | 템플릿 수정 및 세부 로직 수정 | 이창민 |
| 1.2 | 2025-12-11 | 구현 코드(v0.3 Logic) 반영하여 로직 고도화 및 불일치 수정 | 이창민 |

---

## 1. 개요

본 정의서는 SK 사업장에 영향을 줄 수 있는 주요 **물리적 기후 리스크(Physical Climate Risks)**를 체계적으로 산정하기 위해 마련되었습니다. 최신 코드 구현체(`modelops`)의 로직을 반영하여, 단순 기상 통계를 넘어 지형 및 복합 요인을 고려한 고도화된 모델을 기술합니다.

### 9대 리스크 유형

국제 기준(IPCC AR6, TCFD, UNDRR Hazard Classification)을 참고하여 선정된 9대 리스크:

1. **극심한 고온** (Extreme Heat)
2. **극심한 한파** (Extreme Cold)
3. **산불** (Wildfire)
4. **가뭄** (Drought)
5. **물부족** (Water Stress)
6. **해수면 상승** (Sea Level Rise)
7. **하천 홍수** (River Flood)
8. **도시 홍수** (Urban Flood)
9. **태풍** (Typhoon)

### 공통 산출 구조

모든 리스크는 **Hazard-Exposure-Vulnerability** 구조로 계산됩니다:

```
Physical Risk Score = Hazard(기후 위험도) × Exposure(사업장 노출도) × Vulnerability(취약성)
```

---

## 2. 리스크 유형별 점수 산출 로직

---

## 2.1 극심한 고온 (Extreme Heat)

### 2.1.1 정의 및 개요

기후변화로 인한 폭염과 열대야의 증가가 건물 및 시설에 미치는 물리적·경제적 영향을 정량화한 지표입니다. **HCI (Heat Compound Index)**를 사용하여 폭염의 빈도, 지속성, 강도를 복합적으로 평가합니다.

**HCI (Heat Compound Index) 구성 지표:**

| 지수 | 정의 | 단위 | 가중치 |
|------|------|------|--------|
| SU25 | 폭염 일수 (일최고기온 ≥ 33°C) | 일/년 | 0.3 |
| WSDI | 폭염 지속 기간 지수 | 일 | 0.3 |
| TR25 | 열대야 일수 (일최저기온 ≥ 25°C) | 일/년 | 0.2 |
| TX90P | 최고기온 90백분위수 초과 일수 | 일/년 | 0.2 |

### 2.1.2 Hazard 점수

#### 산출 공식

**Step 1: 지표 정규화 (0~1)**
```python
su25_norm = min(su25 / 100.0, 1.0)    # 100일 기준
wsdi_norm = min(wsdi / 30.0, 1.0)     # 30일 기준
tr25_norm = min(tr25 / 50.0, 1.0)     # 50일 기준
tx90p_norm = min(tx90p / 100.0, 1.0)  # 100일 기준
```

**Step 2: HCI 계산 (가중평균)**
```python
HCI = 0.3 * su25_norm + 0.3 * wsdi_norm + 0.2 * tr25_norm + 0.2 * tx90p_norm
```

**Step 3: Hazard 등급 분류**
- `> 0.8`: Extreme
- `> 0.6`: Very High
- `> 0.4`: High
- `> 0.2`: Moderate
- `<= 0.2`: Low

### 2.1.3 Exposure 점수

**지표:** 도시 열섬 강도 (UHI Intensity)

| UHI 강도 | 판정 기준 (건물 용도) | 점수 |
|---------|----------------------|------|
| High | '업무' 또는 '상업' 포함 | 70 |
| Medium | '주택' 포함 | 50 |
| Low | 기타 (녹지 인접, 저밀도 지역) | 30 |

### 2.1.4 Vulnerability 점수

**기본값:** 50점

**가/감점 요인:**
1.  **건물 연식 (age)**:
    - `age > 30`: +20점
    - `age > 20`: +10점
2.  **구조 (structure)**:
    - '목조' 또는 '벽돌' 포함: +15점 (단열 취약)
    - '철근콘크리트' 포함: -10점 (단열 양호)
3.  **주용도 (main_purpose)**:
    - '업무시설' 또는 '상업시설': +10점 (냉방 부하 높음)

**정규화:** `max(0, min(100, score))`

---

## 2.2 극심한 한파 (Extreme Cold)

### 2.2.1 정의 및 개요

기후변화에 따른 저온 피해 위험을 평가합니다. **CCI (Cold Compound Index)**를 사용하여 한파의 빈도, 지속성, 강도를 복합적으로 평가합니다.

**CCI (Cold Compound Index) 구성 지표:**

| 지수 | 정의 | 단위 | 가중치 |
|------|------|------|--------|
| TX10P | 한파일수 (최저기온 10백분위수 미만) | 일/년 | 0.3 |
| CSDI | 한파 지속 기간 지수 | 일 | 0.3 |
| FD0 | 결빙일수 (일최저기온 < 0°C) | 일/년 | 0.2 |
| TN_ABS | 절대최저기온의 절대값 | °C | 0.2 |

### 2.2.2 Hazard 점수

#### 산출 공식

**Step 1: 지표 정규화 (0~1)**
```python
tx10p_norm = min(tx10p / 30.0, 1.0)   # 30일 기준
csdi_norm = min(csdi / 20.0, 1.0)     # 20일 기준
fd0_norm = min(fd0 / 50.0, 1.0)       # 50일 기준
tn_abs_norm = min(abs(tn_abs) / 20.0, 1.0) # -20도 기준
```

**Step 2: CCI 계산**
```python
CCI = 0.3 * tx10p_norm + 0.3 * csdi_norm + 0.2 * fd0_norm + 0.2 * tn_abs_norm
```

### 2.2.3 Exposure 점수

**지표:** 도시 열섬 강도 (UHI Intensity) - 폭염과 동일 로직 사용 (도심지는 상대적으로 따뜻함 고려 가능하나, 현재 로직은 UHI 강도를 그대로 노출도로 사용)

### 2.2.4 Vulnerability 점수

**기본값:** 50점

**가/감점 요인:**
1.  **건물 연식 (age)**:
    - `age > 30`: +20점
    - `age > 20`: +10점
2.  **구조 (structure)**:
    - '목조' 포함: +15점 (단열 취약)

---

## 2.3 산불 (Wildfire)

### 2.3.1 정의 및 개요

기상 조건과 지표면 상태를 고려하여 산불 발생 위험을 평가합니다. **Canadian FWI System**을 기반으로 정밀하게 계산합니다.

### 2.3.2 Hazard 점수

**지표:** FWI (Fire Weather Index)

**산출 공식:**
- 기온, 습도, 풍속, 강수량을 입력으로 하여 FFMC, DMC, DC, ISI, BUI, FWI 6개 하위 지수를 계산.
- **토지피복 가중치 적용:**
    - 산림(Forest): FWI × 1.3
    - 초지(Grassland): FWI × 1.2
    - 농지(Agricultural): FWI × 0.8

**정규화:** 최종 FWI 값을 0~100 스케일로 변환하여 Hazard Score로 사용.

### 2.3.3 Exposure 점수

**지표:** 산림과의 최단 거리 (`distance_to_forest_m`)

| 거리 기준 | 점수 | 등급 |
|-----------|------|------|
| < 100m | 100 | Very High (Critical) |
| 100m ~ 500m | 70 | High |
| 500m ~ 2000m | 40 | Medium |
| >= 2000m | 10 | Low |

### 2.3.4 Vulnerability 점수

**기본값:** 30점

**가/감점 요인:**
1.  **구조 (structure)**:
    - '목조' 또는 '샌드위치' 패널: **+40점** (화재 취약성 극대화)
    - '철근콘크리트': **-5점** (내화성)
2.  **건물 연식 (age)**:
    - `age > 30`: +15점
    - `age > 20`: +8점

---

## 2.4 가뭄 (Drought)

### 2.4.1 정의 및 개요

장기적인 물 부족 현상을 평가합니다.

### 2.4.2 Hazard 점수

**지표:** SPEI-12 (12개월 표준화 강수증발산지수)

**산출 공식:**
- KMA SSP 시나리오의 `spei12_index` 값을 활용.
- 값이 없을 경우, 연강수량과 연속 무강우일수(CDD)를 이용하여 SPI를 추정하고 복합 가뭄지수를 계산.
- SPEI 값에 따라 가뭄 빈도(Frequency)를 산출하여 Hazard Score화.

### 2.4.3 Exposure 점수

**지표:** 용수 의존도 및 연 강수량

1.  **용수 의존도**:
    - High (80점): 공장, 제조, 냉각, 세차, 목욕, 발전
    - Medium (50점): 업무, 상업, 판매
    - Low (30점): 기타
2.  **물 부족 지역**: 연강수량 < 1000mm 인 경우 **+10점**

### 2.4.4 Vulnerability 점수

**기본값:** 35점

**가/감점 요인:**
1.  **지하층 유무 (floors_below)**:
    - **`basement > 0`: +20점**
    - *변경 사항:* 기존의 '기초 형식' 대신, 지하층이 있는 건물이 가뭄 시 지반 침하(Subsidence) 위험이 높다는 점을 반영하여 지하층 유무를 주요 취약성 요인으로 사용.
2.  **건물 연식 (age)**:
    - `age > 30`: +15점
    - `age > 20`: +8점

---

## 2.5 물부족 (Water Stress)

### 2.5.1 정의 및 개요

수자원 수요 대비 공급 부족(Water Stress)을 평가합니다.

### 2.5.2 Hazard 점수

**지표:** WSI (Water Stress Index)

**산출 공식:**
```
WSI = (물 수요량) / (물 공급량)
```
- **수요량**: WAMIS API 기반 생활/공업/농업용수 총량
- **공급량**: 기후 데이터(강수량) × 유역면적 × 유출계수

### 2.5.3 Exposure 점수

**지표:** 용수 의존도 (가뭄과 동일 로직) 및 물 저장 능력

- **물 저장 능력 (`water_storage_capacity`)**: 건물 층수 기반 추정 (고층일수록 저수조 용량 큼 가정).

### 2.5.4 Vulnerability 점수

**기본값:** 40점

**가/감점 요인:**
1.  **저수조 유무 (has_water_tank)**:
    - 저수조 없음 확인 시: **+25점**
    - (데이터 부재 시 법적 기준 `면적 3000m²` 또는 `6층 이상`으로 추정)
2.  **물 효율성 설비**:
    - 신축 건물 (`age < 10`): **-10점** (절수 설비 의무화 고려)
3.  **건물 연식**:
    - `age > 30`: +15점
    - `age > 20`: +8점

---

## 2.6 해수면 상승 (Sea Level Rise)

### 2.6.1 정의 및 개요

해수면 상승으로 인한 침수 위험을 평가합니다. 해안선 10km 이내 지역에만 적용됩니다.

### 2.6.2 Hazard 점수

**지표:** 해수면 상승량 (`slr_increase_cm`) 및 폭풍해일 높이 (`storm_surge_height_m`)

**산출 공식:**
- KMA CMIP6 SSP 시나리오 데이터 활용.
- 해수면 상승량에 따른 침수 빈도(Flood Frequency)를 점수화.

### 2.6.3 Exposure 점수

**지표:** 해안선과의 최단 거리

| 거리 기준 | 점수 | 등급 |
|-----------|------|------|
| < 100m | 80 | Critical |
| 100m ~ 500m | 60 | High |
| 500m ~ 1000m | 40 | Medium |
| >= 1000m | 10 | Low |

### 2.6.4 Vulnerability 점수

**기본값:** 40점

**가/감점 요인:**
1.  **해발 고도 (elevation_m)**: **가장 결정적인 요인**
    - `< 3m`: **+50점**
    - `< 5m`: **+30점**
    - `< 10m`: **+10점**
    - `>= 10m`: **-20점** (안전)
2.  **지하층 유무**: 저지대(`< 5m`)에 지하층이 있는 경우 **+20점** 가중.
3.  **필로티 구조**: **-15점** (침수 피해 저감)
4.  **건물 연식**: `age > 30`: +10점

---

## 2.7 하천 홍수 (River Flood)

### 2.7.1 정의 및 개요

극한 강수와 지형적 특성을 고려하여 하천 범람 위험을 평가합니다. **TWI (Topographic Wetness Index)**를 도입하여 지형적 침수 취약성을 반영했습니다.

### 2.7.2 Hazard 점수

**지표:** 복합 홍수 위험도 (TWI + 강수량)

**산출 공식:**
```python
Hazard Score = (TWI_score * 0.4) + (Rainfall_score * 0.6)
```
- **TWI_score**: 토지피복 기반 지형 습윤 지수 추정 (저지대/평지일수록 높음).
- **Rainfall_score**: 1일 최대 강수량(`RX1DAY`) 정규화 (300mm 이상 시 0.9).

### 2.7.3 Exposure 점수

**지표:** 하천과의 최단 거리 (`distance_to_river_m`)

| 거리 기준 | 점수 | 등급 |
|-----------|------|------|
| < 100m | 90 | Very High |
| 100m ~ 300m | 70 | High |
| 300m ~ 1000m | 40 | Medium |
| >= 1000m | 10 | Low |

**추가:** `in_flood_zone` (하천 거리 100m 이내 & 고도 50m 미만)일 경우 홍수위험구역으로 간주.

### 2.7.4 Vulnerability 점수

**기본값:** 40점

**가/감점 요인:**
1.  **지하층 유무**: **+25점** (침수 시 치명적)
2.  **홍수 위험 구역 (`in_flood_zone`)**: **+20점**
3.  **1층 고도**: 도로면보다 낮거나(`elevation_above_street < 0.5m`) 필로티가 아닌 경우 **+15점**.
4.  **필로티 구조**: **-20점** (물길 확보, 피해 저감)
5.  **건물 연식**: `age > 30`: +15점

---

## 2.8 도시 홍수 (Urban Flood)

### 2.8.1 정의 및 개요

집중 호우 시 도시의 배수 용량 초과로 인한 내수 침수 위험을 평가합니다.

### 2.8.2 Hazard 점수

**지표:** 배수 용량 초과 위험도

**산출 공식:**
```python
Hazard Score = (1 - drainage_score) * 0.5 + rainfall_excess_score * 0.5
```
- **배수 능력**: 토지피복(불투수면), 건물 밀도 등을 고려하여 추정.
- **강수 초과량**: 1시간 최대 강수량(`RX1HOUR`) - 배수 능력.

### 2.8.3 Exposure 점수

**지표:** 불투수면 비율 (`impervious_surface_ratio`)

- 건물 용도와 토지피복 데이터를 결합하여 불투수면 비율 추정.
- 상업/업무 지역(불투수면 높음)일수록 점수 높음 (최대 80점).

### 2.8.4 Vulnerability 점수

**기본값:** 40점

**가/감점 요인:**
1.  **지하층 유무**: **+20점**
2.  **필로티 구조**: **-15점**
3.  **건물 연식**: `age > 30`: +10점

---

## 2.9 태풍 (Typhoon)

### 2.9.1 정의 및 개요

태풍의 강풍과 폭우 복합 영향을 평가합니다. **TCI (Typhoon Comprehensive Index)**를 사용합니다.

### 2.9.2 Hazard 점수

**지표:** TCI (Typhoon Comprehensive Index)

**산출 공식:**
```python
TCI = 0.55 * Wind_norm + 0.45 * Rain_norm
```
- **Wind_norm**: 최대 풍속 정규화 (50m/s 기준)
- **Rain_norm**: 동반 강우량 정규화 (500mm 기준)
- 태풍 중심과의 거리에 따른 **감쇠 효과(Distance Decay)** 적용.

### 2.9.3 Exposure 점수

**지표:** 해안선과의 최단 거리

| 거리 기준 | 점수 | 등급 |
|-----------|------|------|
| < 5km | 90 | Critical |
| 5km ~ 20km | 70 | High |
| 20km ~ 50km | 40 | Medium |
| >= 50km | 10 | Low |

### 2.9.4 Vulnerability 점수

**기본값:** 50점

**가/감점 요인:**
1.  **구조 (structure)**:
    - '목조' 또는 '벽돌': **+30점** (풍압 취약)
    - '철근콘크리트' 또는 '철골': **-15점** (풍압 강함)
2.  **건물 높이**: `floors_above > 10`: **+15점** (강풍 노출 증가)
3.  **건물 연식**: `age > 30`: **+20점**

---

## 3. 리스크 비교 방법론

### 3.1 개요

9개 물리적 리스크 간 상대적 중요도를 평가하고 우선순위를 결정하기 위한 비교 방법론입니다. TCFD 권고사항에 따라 Acute Physical Risks와 Chronic Physical Risks를 구분하여 평가합니다.

### 3.2 TCFD 리스크 분류

#### Acute Physical Risks (급성 리스크)
- 태풍 (Typhoon)
- 하천 홍수 (River Flood)
- 도시 홍수 (Urban Flood)
- 산불 (Wildfire)

#### Chronic Physical Risks (만성 리스크)
- 극심한 고온 (Extreme Heat)
- 극심한 한파 (Extreme Cold)
- 가뭄 (Drought)
- 물부족 (Water Stress)
- 해수면 상승 (Sea Level Rise)

### 3.3 비교 방법론

1.  **TCFD 카테고리별 최우선 리스크**: 급성/만성 그룹별 최고 점수 리스크 식별.
2.  **전체 리스크 순위**: 9개 리스크를 통합 점수(0~100) 기준으로 정렬하여 1위~9위 산정.

---

## 4. 데이터 출처

| 데이터 유형 | 출처 | 비고 |
| :--- | :--- | :--- |
| **기후 시나리오** | 기상청 (KMA) SSP 시나리오 | 1km 격자 NetCDF |
| **건축물 정보** | 국토교통부 건축물대장 (세움터) | API 연동 |
| **주소/위치** | V-World Geocoding API | 좌표 변환 |
| **하천 망** | V-World WFS API | 하천 거리 계산 |
| **토지 피복** | 환경부 토지피복도 | 공간 분석 |
| **재난 이력** | 행정안전부 재난안전데이터 | 침수 이력 등 |
| **수자원** | WAMIS (국가수자원관리종합정보시스템) | 용수 이용량 |

---

## 문서 이력

이 문서는 SK AX의 사업장 기후 물리적 리스크 AI 평가 시스템을 위한 공식 로직 정의서입니다. 본 버전(v1.2)은 실제 시스템 구현체(`modelops`)의 로직과 100% 일치하도록 업데이트되었습니다.