<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" style="height:64px;margin-right:32px"/>

# 오퍼레이션 별로 입 출력 인자들도 정리한 내용 추가해서 전체 내용 다시 줘


***

# 건축HUB OpenAPI 활용 및 데이터 전환 통합 가이드

## 1. 서비스 개요 (OpenAPI)

### 1.1 배경 및 목적

* **목적:** 건축서비스산업정보체계(건축HUB) 시스템의 건축정보를 민간에서 쉽게 활용할 수 있도록 표준화된 방식으로 개방.
* **기대효과:** 대국민 접근성 향상 및 민간 영역의 신규 비즈니스 창출 지원.
* **제공 데이터:** 건축물대장, 건축인허가, 주택인허가, 폐쇄말소대장 등.


### 1.2 서비스 인증키 발급 및 사용

* **신청 방법:** 공공데이터포털(data.go.kr)에서 API 검색 후 활용 신청.
* **승인 절차:** 신청 즉시 자동 승인 또는 담당자 확인 후 승인 (서비스 키 발급).
* **호출 예시 (REST 방식):**

```http
https://apis.data.go.kr/1613000/BldRgstHubService/getBrTitleInfo?sigunguCd={시군구코드}&bjdongCd={법정동코드}&serviceKey={인증키}
```


### 1.3 페이징(Pagination) 처리

* **제한:** 1회 요청 시 최대 100건 (`numOfRows`=100).
* **전체 데이터 조회 로직:**

1. API 1회 호출 후 응답 메시지의 `totalCount` 확인.
2. `(totalCount / numOfRows)`의 올림값만큼 `pageNo`를 증가시키며 반복 호출.

***

## 2. 주요 오퍼레이션 상세 명세

API의 핵심 기능별 입력(요청) 파라미터와 출력(응답) 데이터 항목입니다.

### 2.1 공통 요청 파라미터 (입력)

모든 오퍼레이션에 공통적으로 사용되는 필수/옵션 파라미터입니다.


| 항목명(영문) | 항목명(국문) | 필수여부 | 설명 | 샘플데이터 |
| :-- | :-- | :-- | :-- | :-- |
| `serviceKey` | 인증키 | **필수** | 공공데이터포털에서 발급받은 키 | (Encoding Key) |
| `sigunguCd` | 시군구코드 | **필수** | 행정표준코드 (5자리) | 11680 (강남구) |
| `bjdongCd` | 법정동코드 | **필수** | 행정표준코드 (5자리) | 10300 (개포동) |
| `platGbCd` | 대지구분코드 | 옵션 | 0:대지, 1:산, 2:블록 | 0 |
| `bun` | 번 | 옵션 | 지번의 본번 (4자리) | 0012 |
| `ji` | 지 | 옵션 | 지번의 부번 (4자리) | 0000 |
| `numOfRows` | 페이지당 목록 수 | 옵션 | 최대 100 | 10 |
| `pageNo` | 페이지 번호 | 옵션 | 조회할 페이지 | 1 |


***

### 2.2 오퍼레이션별 출력 항목 (응답)

#### **1) 건축물대장 기본개요 조회 (`getBrBasisOulnInfo`)**

건축물의 위치 및 대장 종류 정보를 제공합니다.


| 항목명(영문) | 항목명(국문) | 설명 |
| :-- | :-- | :-- |
| `mgmtNo` | **관리번호** | 건축물 고유 식별번호 (PK) |
| `bldNm` | **건물명** | 예: 대치아파트 303동 |
| `newPlatPlc` | **도로명대지위치** | 예: 서울특별시 강남구 개포로 109길 5 |
| `platPlc` | 대지위치 | 지번 주소 |
| `regstrGbCd` | 대장구분코드 | 1:일반, 2:집합 |
| `regstrKindCd` | 대장종류코드 | 1:총괄, 2:표제, 3:전유 |
| `naRoadCd` | 도로명코드 | 도로명주소 코드 |
| `jijiguCd` | 지역지구코드 | 국토계획법상 지역지구 |

#### **2) 건축물대장 표제부 조회 (`getBrTitleInfo`)**

건물 전체에 대한 대표 정보(일반건축물대장)를 제공합니다.


| 항목명(영문) | 항목명(국문) | 설명 |
| :-- | :-- | :-- |
| `mainPurpsCd` | **주용도코드** | 예: 02000 (공동주택) |
| `mainPurpsNm` | 주용도명 | 예: 아파트, 단독주택 |
| `etcPurps` | 기타용도 | 세부 용도 설명 |
| `archArea` | **건축면적** | 건축물의 바닥면적 ($m^2$) |
| `bcRat` | 건폐율 | 대지면적 대비 건축면적 비율 (%) |
| `totArea` | **연면적** | 각 층 바닥면적의 합계 ($m^2$) |
| `vlRat` | 용적률 | 대지면적 대비 연면적 비율 (%) |
| `strctCd` | **구조코드** | 예: 11 (철근콘크리트조) |
| `mainBldCnt` | 주건축물수 | 대지 내 주건물의 수 |
| `atchBldCnt` | 부속건축물수 | 대지 내 부속건물의 수 |
| `useAprDay` | **사용승인일** | 준공 승인 날짜 (YYYYMMDD) |

#### **3) 건축물대장 층별개요 조회 (`getBrFlrOulnInfo`)**

건물의 층별 상세 정보를 제공합니다.


| 항목명(영문) | 항목명(국문) | 설명 |
| :-- | :-- | :-- |
| `flrGbCd` | 층구분코드 | 10:지하, 20:지상, 30:옥탑 |
| `flrNo` | **층번호** | 예: 1, 2, B1 |
| `flrNoNm` | 층번호명 | 예: 1층, 지하1층 |
| `area` | **층면적** | 해당 층의 바닥면적 ($m^2$) |
| `mainPurpsCd` | 주용도코드 | 해당 층의 주용도 |
| `etcPurps` | 기타용도 | 해당 층의 세부 용도 |

#### **4) 건축물대장 오수정화시설 조회 (`getBrWclfInfo`)**

정화조 관련 정보를 제공합니다.


| 항목명(영문) | 항목명(국문) | 설명 |
| :-- | :-- | :-- |
| `unitGbCd` | 단위구분코드 | 1: 인용(인수), 2: 루베($m^3$) |
| `capa` | **용량** | 정화조 크기 (인원 수 또는 부피) |
| `formatGbCd` | 형식구분코드 | 정화조 처리 방식 (부패탱크, 폭기 등) |


***

## 3. 기존 건축데이터 PK 전환 규칙

건축행정시스템이 클라우드 기반 **건축HUB**로 전환됨에 따라, 데이터의 고유 식별자(PK) 체계가 변경되었습니다. 기존 데이터를 보유한 사용자는 아래 규칙에 따라 신규 PK로 변환하여 매핑해야 합니다.

### 3.1 PK 변경 개요

* **AS-IS (기존):** `시군구코드(5자리)` + `-` + `일련번호`
* **TO-BE (신규):** `일련번호(22자리)` 단독 사용


### 3.2 유형별 변환 규칙

#### **유형 1: 기존 일련번호가 이미 22자리인 경우**

* **규칙:** 기존 PK에서 앞의 `시군구코드`와 `-`를 제거하면 신규 PK와 동일합니다.
* **예시:**
    * AS-IS: `11000` - `1000000000000001047965`
    * TO-BE: `1000000000000001047965`


#### **유형 2: 기존 일련번호가 22자리 미만인 경우**

**통합분류코드**를 활용하여 새로운 22자리 조합을 생성해야 합니다.

* **공식:** `통합분류코드(4자리)` + `대장구분(1자리)` + `기존 일련번호`
    * *대장구분코드: 0 (폐쇄/말소), 1 (실대장)*
* **예시 (서울 서대문구):**
    * AS-IS: `11000` (서대문구) - `100225790`
    * 매핑: 서대문구 통합코드 `1014` + 실대장 `1` + 번호 `100225790`
    * TO-BE: `10141100225790`

***

## 4. 시군구코드 - 통합분류코드 매핑 목록 (참고용)

| 통합분류코드 | 시군구코드 | 시군구명 | 비고 |
| :-- | :-- | :-- | :-- |
| **1001** | 11000 | 서울특별시 |  |
| **1002** | 11110 | 서울 종로구 |  |
| **1024** | 11680 | 서울 강남구 |  |
| **1084** | 41110 | 경기 수원시 | 장안/권선/팔달/영통 모두 1084 사용 |
| **1089** | 41130 | 경기 성남시 | 수정/중원/분당 모두 1089 사용 |
| **1094** | 41170 | 경기 안양시 | 만안/동안 모두 1094 사용 |

> **주의:** 비자치구(수원시 장안구 등)가 있는 시는 **상위 시의 통합분류코드 하나**로 통일되어 사용되는 경우가 많으므로 매핑 시 주의가 필요합니다.

