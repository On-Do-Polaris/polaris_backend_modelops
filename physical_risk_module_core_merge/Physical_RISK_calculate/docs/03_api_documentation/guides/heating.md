# 한국지역난방공사 난방지수 정보 API 요약

## 📋 개요

- **제공기관**: 한국지역난방공사
- **API 유형**: REST
- **Base URL**: `https://www.kdhc.co.kr:443/openapi-data/service/kdhcHeatIndex/heatIndex`
- **인증**: 공공데이터포털 API Key 필요
- **트래픽**: 개발 1,000건/일, 운영 활용사례 등록시 증가 가능
- **승인절차**: 개발/운영 모두 자동승인

---

## 📖 서비스 설명

최근 1년간 시간당 최대 열공급 실적을 1000으로 두고 지수화한 **난방지수**를 시간별로 제공

- **조회 기간**: D ~ D+2 (당일부터 2일 후까지)
- **제공 단위**: 시간별 (01시~24시)
- **지역 단위**: 지사별 (branchId)

---

## 📝 요청 파라미터

| 파라미터   | 변수명       | 필수 | 설명                   | 예시           |
| ---------- | ------------ | ---- | ---------------------- | -------------- |
| 서비스키   | `serviceKey` | ✅   | 공공데이터 포털 인증키 | `YOUR_API_KEY` |
| 조회시작일 | `startDate`  | ✅   | 조회 시작일 (YYYYMMDD) | `20250101`     |
| 조회종료일 | `endDate`    | ✅   | 조회 종료일 (YYYYMMDD) | `20250131`     |
| 페이지번호 | `pageNo`     | ❌   | 페이지 번호            | `1`            |
| 항목수     | `numOfRows`  | ❌   | 페이지당 항목 수       | `10`           |

---

## 📤 출력 결과

### 공통 응답 필드

| 필드명       | 설명                        | 예시       |
| ------------ | --------------------------- | ---------- |
| `resultCode` | 결과코드 (00:정상, 99:실패) | `00`       |
| `resultMsg`  | 결과메시지                  | `정상호출` |
| `numOfRows`  | 한 페이지 결과 수           | `10`       |
| `pageNo`     | 페이지 번호                 | `1`        |
| `totalCount` | 전체 결과 수                | `100`      |
| `items`      | 목록 데이터                 | -          |

### 난방지수 데이터 필드

| 필드명                | 설명              | 예시                       |
| --------------------- | ----------------- | -------------------------- |
| `issueDate`           | 해당 실적일       | `201006`                   |
| `branchId`            | 지사 ID           | `202`                      |
| `dayName`             | 요일              | `월요일`, `화요일`, `연휴` |
| `rnum`                | 순번              | `1`, `2`                   |
| `load01h` ~ `load24h` | 1시~24시 난방지수 | `547`, `521`               |

### 시간별 난방지수 필드 (24개)

```
load01h (1시)   load02h (2시)   load03h (3시)   load04h (4시)
load05h (5시)   load06h (6시)   load07h (7시)   load08h (8시)
load09h (9시)   load10h (10시)  load11h (11시)  load12h (12시)
load13h (13시)  load14h (14시)  load15h (15시)  load16h (16시)
load17h (17시)  load18h (18시)  load19h (19시)  load20h (20시)
load21h (21시)  load22h (22시)  load23h (23시)  load24h (24시)
```

---

## 💡 Vulnerability 산출 활용

### 난방 인프라 취약성 평가 (극심한 한파 리스크)

- **목적**: 지역난방 의존도 및 인프라 취약성 평가
- **활용 방법**:
  1. 사업장 위치의 지사ID 확인
  2. 겨울철 평균 난방지수 산출
  3. 난방지수가 높을수록 → 지역난방 의존도 높음 → 극심한 한파 시 난방 중단 리스크 증가

### 계산 지표

- **평균 난방지수**: 일반적인 난방 부하 수준
- **최대 난방지수**: 피크 부하 (극심한 극심한 한파 시)
- **변동성**: 평균 대비 최대값의 비율 (인프라 안정성)

---

## 📊 활용 예제

### 1. 시간별 난방지수 추이 분석

- 24시간 패턴 분석
- 피크 시간대 식별
- 지사별 비교 그래프 생성

### 2. 계절별 난방지수 분석

- 연월 데이터에 따른 난방지수 추이
- 계절성 패턴 분석
- 연간 추세 분석

### 3. 요일별 난방 특성 분석

- 평일 vs 주말 비교
- 연휴 기간 특성
- 요일 유형별 난방지수 차이

---

## ⚠️ 주의사항

1. **데이터 범위**:

   - D ~ D+2까지만 제공 (당일부터 2일 후)
   - 과거 데이터 장기 조회 시 제한 확인 필요

2. **난방지수 해석**:

   - 최근 1년간 최대값을 1000으로 정규화한 상대적 지수
   - 절대값이 아닌 상대 비교용
   - 지사별 비교 시 정규화 기준 동일 여부 확인

3. **API 호출 제한**:

   - 개발계정: 일 1,000건
   - 대량 조회 시 기간 분할 필요

4. **지사ID 매핑**:

   - 사업장 위치 → 지사ID 매핑 테이블 별도 필요
   - 지사별 관할 지역 정보 확인 필요

5. **결측값 처리**:
   - `load##h` 필드 누락 가능성 있음
   - 0 또는 null 체크 필수

---

## 📚 참고 링크

- [공공데이터포털 - 난방지수 정보](https://www.data.go.kr/)
- [한국지역난방공사](https://www.kdhc.co.kr/)

---

## 🎯 V(Vulnerability) 계산 활용

이 API는 **Extreme Cold (극심한 한파)** 리스크의 **V(Vulnerability)** 계산에 활용됩니다.

- **높은 난방지수** → 지역난방 의존도 높음 → 극심한 한파 시 취약성 증가
- **높은 변동성** → 부하 급증 가능성 → 인프라 과부하 리스크
- **지사별 차이** → 지역별 난방 인프라 안정성 차이
