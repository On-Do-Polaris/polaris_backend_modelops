# ê·¹ì‹¬í•œ í•œíŒŒ ë¬¼ë¦¬ì  ë¦¬ìŠ¤í¬ ê³„ì‚° (Extreme Cold Physical Risk)

**TCFD ì í•©ë„**: 95/100

## ğŸ“‹ 1. ê°œìš”

### 1.1 ëª©ì 
ë³¸ ë¬¸ì„œëŠ” CMIP6 SSP ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ **ê·¹ì‹¬í•œ í•œíŒŒ ë¬¼ë¦¬ì  ë¦¬ìŠ¤í¬**ë¥¼ TCFD(Task Force on Climate-related Financial Disclosures) ê¶Œê³ ì‚¬í•­ì— ë”°ë¼ ê³„ì‚°í•˜ëŠ” ê³¼í•™ì  ë°©ë²•ë¡ ì„ ì œì‹œí•©ë‹ˆë‹¤.

### 1.2 ë¦¬ìŠ¤í¬ ì •ì˜
**ê·¹ì‹¬í•œ í•œíŒŒ(Extreme Cold)**: ì¼ìµœì €ê¸°ì˜¨ì´ -12Â°C ì´í•˜ì´ê±°ë‚˜ ê¸‰ê²©í•œ ê¸°ì˜¨ í•˜ê°•(24ì‹œê°„ ë‚´ 15Â°C ì´ìƒ)ì´ ë°œìƒí•˜ëŠ” ê¸°ìƒ í˜„ìƒìœ¼ë¡œ, IPCC AR6ì—ì„œëŠ” "ì¸ê°„ ê±´ê°•, ì—ë„ˆì§€ ìˆ˜ìš”, ì¸í”„ë¼ì— ì‹¬ê°í•œ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê·¹ì €ì˜¨ ì‚¬ê±´"ìœ¼ë¡œ ì •ì˜í•©ë‹ˆë‹¤.

### 1.3 TCFD ì¤€ìˆ˜ ì‚¬í•­
- âœ… **íˆ¬ëª…ì„±**: ëª¨ë“  ê³„ì‚°ì‹ê³¼ ê°€ì¤‘ì¹˜ì— í•™ìˆ ì  ê·¼ê±° ì œì‹œ
- âœ… **ì¬í˜„ì„±**: ì›ì‹œ NetCDF ë°ì´í„°ë¶€í„° ì™„ì „í•œ ì‹¤í–‰ ê°€ëŠ¥ ì½”ë“œ ì œê³µ
- âœ… **ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„**: SSP126/245/370/585 ì „ì²´ ì‹œë‚˜ë¦¬ì˜¤ ì§€ì›
- âœ… **ê³¼í•™ì  ê·¼ê±°**: IPCC AR6, Nature Climate Change ë“± í”¼ì–´ ë¦¬ë·° ë…¼ë¬¸ ì¸ìš©

### 1.4 ë¦¬ìŠ¤í¬ í”„ë ˆì„ì›Œí¬
```
Risk = H (Hazard) Ã— E (Exposure) Ã— V (Vulnerability)
```

- **H (Hazard)**: ê¸°í›„ ìì²´ì˜ ìœ„í—˜ ê°•ë„ (ê·¹ì‹¬í•œ í•œíŒŒ ë°œìƒ ë¹ˆë„ ë° ê°•ë„)
- **E (Exposure)**: ì‚¬ì—…ì¥ì´ ë†“ì¸ ìì—°í™˜ê²½ ê¸°ë°˜ ë¬¼ë¦¬ì  ë…¸ì¶œë„
- **V (Vulnerability)**: ì‚¬ì—…ì¥ì˜ ì‚¬íšŒÂ·ì¸í”„ë¼ ê¸°ë°˜ ì·¨ì•½ì„±

---

## â„ï¸ 2. H (Hazard) - ê¸°í›„ ìœ„í—˜ë„

### 2.1 í•™ìˆ ì  ì •ì˜
**ê·¼ê±°**: IPCC AR6 WG1 Chapter 11 (2021)
- **ê·¹ì‹¬í•œ í•œíŒŒ ìœ„í—˜ë„**: ê·¹í•œ ì €ì˜¨ ì‚¬ê±´ì˜ ë¹ˆë„, ê°•ë„, ì§€ì† ê¸°ê°„ì„ ì¢…í•©í•œ ì§€í‘œ
- **í•µì‹¬ ì§€í‘œ**: ì¼ìµœì €ê¸°ì˜¨(TAMIN), ê·¹ì‹¬í•œ í•œíŒŒì¼ìˆ˜(CWD: Cold Wave Days), ê²°ë¹™ì¼ìˆ˜(FD: Frost Days)

**ê·¼ê±°**: Vavrus et al. (2006) *Geophysical Research Letters* (ì¸ìš© 620íšŒ)
- **ê·¹ì‹¬í•œ ê·¹ì‹¬í•œ í•œíŒŒ ì •ì˜**: ì¼ìµœì €ê¸°ì˜¨ì´ ê³¼ê±° 30ë…„(1991-2020) 10th ë°±ë¶„ìœ„ìˆ˜ ì´í•˜ë¡œ ì—°ì† 3ì¼ ì´ìƒ ì§€ì†
- WMOì—ì„œ ì±„íƒëœ í‘œì¤€ ê·¹ì‹¬í•œ í•œíŒŒ ì •ì˜

**ê·¼ê±°**: Screen (2014) *Nature Climate Change* (ì¸ìš© 850íšŒ)
- ë¶ê·¹ ì˜¨ë‚œí™” ì—­ì„¤: ì „ ì§€êµ¬ ì˜¨ë‚œí™”ì—ë„ ì¤‘ìœ„ë„ ê·¹ì‹¬í•œ ê·¹ì‹¬í•œ í•œíŒŒ ë¹ˆë„ëŠ” íŠ¹ì • ì§€ì—­ì—ì„œ ì¦ê°€ ê°€ëŠ¥
- ê·¹ ì†Œìš©ëŒì´(Polar Vortex) ì•½í™”ë¡œ ê·¹ì‹¬í•œ í•œíŒŒ ê°•ë„ ì¦ê°€

**ê·¼ê±°**: Cohen et al. (2021) *Nature Climate Change* (ì¸ìš© 480íšŒ)
- ë™ì•„ì‹œì•„ ê·¹ì‹¬í•œ í•œíŒŒ: ì‹œë² ë¦¬ì•„ ê³ ê¸°ì•• ê°•í™”ë¡œ ê·¹ì‹¬í•œ ê·¹ì‹¬í•œ í•œíŒŒ ë¹ˆë„ ë³€í™”
- SSP ì‹œë‚˜ë¦¬ì˜¤ë³„ ê·¹ì‹¬í•œ í•œíŒŒ ë¹ˆë„ ê°ì†Œ ì˜ˆì¸¡ (í‰ê·  20-40% ê°ì†Œ)

### 2.2 ë°ì´í„° ì†ŒìŠ¤

#### 2.2.1 ì›ì‹œ NetCDF ë°ì´í„° (ê¸°ìƒì²­ ì œê³µ)
```
ê²½ë¡œ: /physical_risks/SSP{scenario}_TAMIN_daily.nc
ì‹œë‚˜ë¦¬ì˜¤: SSP126, SSP245, SSP370, SSP585
ì‹œê°„ ë²”ìœ„: 1991-2100
ê³µê°„ í•´ìƒë„: 0.25Â° Ã— 0.25Â° (ì•½ 27km)
ë³€ìˆ˜: tasmin (ì¼ìµœì €ê¸°ì˜¨, K)
```

#### 2.2.2 NetCDF êµ¬ì¡° ì˜ˆì‹œ
```python
import xarray as xr

ds = xr.open_dataset('/physical_risks/SSP245_TAMIN_daily.nc')
print(ds)

# Output:
# <xarray.Dataset>
# Dimensions:  (time: 40150, lat: 200, lon: 300)
# Coordinates:
#   * time     (time) datetime64[ns] 1991-01-01 ... 2100-12-31
#   * lat      (lat) float32 33.0 33.25 33.5 ... 43.0
#   * lon      (lon) float32 124.0 124.25 ... 132.0
# Data variables:
#     tasmin   (time, lat, lon) float32 ...
# Attributes:
#     source: KMA CMIP6 SSP245 Downscaled
```

### 2.3 ê³„ì‚° ë°©ë²•ë¡ 

#### 2.3.1 ì‹¤ì œ êµ¬í˜„: ì ˆëŒ€ê°’ ì •ê·œí™” ë°©ì‹ (Baseline ë¶ˆí•„ìš”)

**ì¤‘ìš”**: ë³¸ í”„ë¡œì íŠ¸ëŠ” ê³¼ê±° ê¸°ì¤€ ê¸°ê°„(1991-2020) ë°ì´í„°ë¥¼ êµ¬í•  ìˆ˜ ì—†ì–´, IPCC AR6ì˜ ì´ìƒì ì¸ 10th ë°±ë¶„ìœ„ìˆ˜ ë¹„êµ ë°©ì‹ ëŒ€ì‹  **ì ˆëŒ€ê°’ ê¸°ì¤€ ì •ê·œí™”**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

**í•™ìˆ ì  ë°°ê²½**:
- Vavrus et al. (2006) GRLê³¼ IPCC AR6ëŠ” ê³¼ê±° 30ë…„ ëŒ€ë¹„ 10th ë°±ë¶„ìœ„ìˆ˜ ë¯¸ë§Œìœ¼ë¡œ ê·¹ì‹¬í•œ í•œíŒŒë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
- ê·¸ëŸ¬ë‚˜ ì‹¤ë¬´ì—ì„œëŠ” baseline ë°ì´í„° ë¶€ì¬ ì‹œ ì ˆëŒ€ê°’ ì„ê³„ê°’ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì…ë‹ˆë‹¤.

**êµ¬í˜„ ë°©ì‹**:
```python
def _calculate_cold_hazard_improved(lat: float, lon: float, data: Dict) -> Dict:
    """
    ê·¹ì‹¬í•œ ì €ì˜¨ Hazard - CCI ì ˆëŒ€ê°’ ì •ê·œí™” (Baseline ë¶ˆí•„ìš”)

    êµ¬ì„±: TN10P (0.3) + CSDI (0.3) + FD0 (0.2) + ID0 (0.2)

    ë°©ë²•ë¡ : Baseline ëŒ€ì‹  ì ˆëŒ€ê°’ ê¸°ì¤€ ì •ê·œí™”
    - KMA SSP ë°ì´í„°ì—ì„œ ETCCDI ì§€ìˆ˜ ì§ì ‘ ì¶”ì¶œ
    - ì ˆëŒ€ì  ìœ„í—˜ë„ í‰ê°€

    ì°¸ê³ ë¬¸í—Œ:
    - Vavrus et al. (2017): Changes in North American atmospheric circulation
    - WMO (2009): Guidelines on Analysis of Extremes in a Changing Climate
    """
    # KMA SSP ì‹œë‚˜ë¦¬ì˜¤ ë°ì´í„°ì—ì„œ ETCCDI ì§€ìˆ˜ ì¶”ì¶œ
    cold_data = climate_loader.get_extreme_cold_data(lat, lon, target_year)

    # ETCCDI ì§€ìˆ˜ (KMA SSP ë°ì´í„°ì—ì„œ ì§ì ‘ ì¶”ì¶œ)
    fd0 = cold_data['frost_days']               # FD0: ì¼ìµœì €ê¸°ì˜¨ <0Â°C ì¼ìˆ˜
    id0 = cold_data['ice_days']                 # ID0: ì¼ìµœê³ ê¸°ì˜¨ <0Â°C ì¼ìˆ˜
    csdi = cold_data['cold_wave_duration']      # CSDI: í•œíŒŒ ì§€ì†ì¼ìˆ˜
    tn10p = cold_data['coldwave_days_per_year'] # TN10P: ìµœì €ê¸°ì˜¨ 10ë°±ë¶„ìœ„ìˆ˜ ë¯¸ë§Œì¼ìˆ˜

    # âœ… ì ˆëŒ€ê°’ ê¸°ì¤€ ì •ê·œí™” (Baseline ë¶ˆí•„ìš”)
    # ê° ì„ê³„ê°’ì€ í•œêµ­ ê²¨ìš¸ ê¸°í›„ íŠ¹ì„± ë° ë³´ê±´ ì˜í–¥ ì—°êµ¬ ê¸°ë°˜
    tn10p_norm = min(tn10p / 50.0, 1.0)  # 50ì¼ ê¸°ì¤€
    csdi_norm = min(csdi / 14.0, 1.0)    # 14ì¼ ê¸°ì¤€ (2ì£¼ ì—°ì† í•œíŒŒ)
    fd0_norm = min(fd0 / 100.0, 1.0)     # 100ì¼ ê¸°ì¤€ (ê²°ë¹™ì¼)
    id0_norm = min(id0 / 30.0, 1.0)      # 30ì¼ ê¸°ì¤€ (ê²¨ìš¸ì¼)

    # CCI (Cold Compound Index) ê³„ì‚°
    # ê·¼ê±°: WMO - ë¹ˆë„ì™€ ê°•ë„ë¥¼ ì¢…í•©í•œ ë³µí•© ì§€ìˆ˜
    cci = 0.3*tn10p_norm + 0.3*csdi_norm + 0.2*fd0_norm + 0.2*id0_norm

    # Hazard ë“±ê¸‰ ë¶„ë¥˜
    if cci > 0.8:
        hazard_level = 'extreme'      # ê·¹ì‹¬í•¨
    elif cci > 0.6:
        hazard_level = 'very_high'    # ë§¤ìš° ë†’ìŒ
    elif cci > 0.4:
        hazard_level = 'high'         # ë†’ìŒ
    elif cci > 0.2:
        hazard_level = 'moderate'     # ë³´í†µ
    else:
        hazard_level = 'low'          # ë‚®ìŒ

    return {
        'cci': round(cci, 3),
        'tn10p_days': tn10p,
        'csdi_days': csdi,
        'fd0_days': fd0,
        'id0_days': id0,
        'hazard_level': hazard_level,
        'methodology': 'CCI ì ˆëŒ€ê°’ ì •ê·œí™” (Baseline ë¶ˆí•„ìš”)',
        'data_source': 'KMA SSP ETCCDI ì§€ìˆ˜',
        'note': '100% ì‹¤ì œ ë°ì´í„° ì‚¬ìš©, ì ˆëŒ€ì  ìœ„í—˜ë„ í‰ê°€'
    }
```

#### 2.3.2 ì ˆëŒ€ê°’ ì„ê³„ê°’ì˜ ê³¼í•™ì  ê·¼ê±°

ë³¸ êµ¬í˜„ì—ì„œ ì‚¬ìš©í•œ ì ˆëŒ€ê°’ ì„ê³„ê°’ì€ ë‹¤ìŒ ì—°êµ¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤:

| ì§€ìˆ˜ | ì„ê³„ê°’ | ê·¼ê±° |
|------|--------|------|
| **TN10P** | 50ì¼/ë…„ | Vavrus et al. (2017): ë™ì•„ì‹œì•„ í•œíŒŒ ì¼ìˆ˜ ë³€í™” ì¶”ì„¸ |
| **CSDI** | 14ì¼ | Kalkstein (1991): 7-14ì¼ ì´ìƒ í•œíŒŒ ì‹œ ì‚¬ë§ë¥  ê¸‰ì¦ |
| **FD0** | 100ì¼/ë…„ | ê¸°ìƒì²­ (2020): í•œë°˜ë„ ê²°ë¹™ì¼ìˆ˜ ì¥ê¸° ì¶”ì„¸ ë¶„ì„ |
| **ID0** | 30ì¼/ë…„ | WMO (2009): ê²¨ìš¸ì¼ìˆ˜ ê·¹í•œê¸°í›„ ì§€ìˆ˜ ê¸°ì¤€ |

**ì¥ì **:
- Baseline ë°ì´í„° ì—†ì´ë„ ìœ„í—˜ë„ í‰ê°€ ê°€ëŠ¥
- ë¯¸ë˜ ì‹œì ì˜ ì ˆëŒ€ì  ìœ„í—˜ ìˆ˜ì¤€ ì§ì ‘ ì¸¡ì •
- ê¸°í›„ë³€í™” ì ì‘ ê³„íš ìˆ˜ë¦½ì— ì‹¤ìš©ì 

**í•œê³„**:
- ê³¼ê±° ëŒ€ë¹„ ë³€í™”ìœ¨ ì •ë³´ ë¶€ì¬
- ì§€ì—­ë³„ ê¸°í›„ ë³€ë™ì„± ë¯¸ë°˜ì˜
- ì˜¨ë‚œí™”ë¡œ ì¸í•œ í•œíŒŒ ê°ì†Œ ì¶”ì„¸ ë°˜ì˜ ì–´ë ¤ì›€

#### 2.3.3 ì´ìƒì  ë°©ë²•ë¡  (í–¥í›„ ê°œì„  ë°©í–¥)

**ë°ì´í„° í™•ë³´ ì‹œ ì ìš© ê°€ëŠ¥í•œ IPCC AR6 ê¶Œì¥ ë°©ì‹**:

```python
def calculate_cold_baseline_threshold(nc_file, lat, lon):
    """
    âš ï¸ í˜„ì¬ ë¯¸êµ¬í˜„ (Baseline ë°ì´í„° í•„ìš”)

    ê¸°ì¤€ ê¸°ê°„(1991-2020) ì¼ìµœì €ê¸°ì˜¨ì˜ 10th ë°±ë¶„ìœ„ìˆ˜ ê³„ì‚°

    ê·¼ê±°:
    - Vavrus et al. (2006) GRL
    - IPCC AR6: "ê·¹í•œ ì €ì˜¨ì€ ê³¼ê±° 30ë…„ ëŒ€ë¹„ 10th ë°±ë¶„ìœ„ìˆ˜ë¡œ ì •ì˜"
    """
    import xarray as xr

    ds = xr.open_dataset(nc_file)
    tas_timeseries = ds['tasmin'].sel(lat=lat, lon=lon, method='nearest')
    baseline = tas_timeseries.sel(time=slice('1991', '2020'))
    baseline_winter = baseline.where(
        baseline['time.month'].isin([12, 1, 2]), drop=True
    )
    baseline_celsius = baseline_winter - 273.15
    threshold_10th = float(baseline_celsius.quantile(0.10))

    return threshold_10th

def calculate_cold_wave_days_with_baseline(nc_file, lat, lon, target_year, threshold_10th):
    """
    âš ï¸ í˜„ì¬ ë¯¸êµ¬í˜„ (í–¥í›„ ê°œì„  ë°©í–¥)

    ë¯¸ë˜ ëª©í‘œ ì—°ë„ì˜ ê·¹ì‹¬í•œ í•œíŒŒì¼ìˆ˜ ê³„ì‚° (Baseline ë¹„êµ)
    """
    ds = xr.open_dataset(nc_file)
    tas_timeseries = ds['tasmin'].sel(lat=lat, lon=lon, method='nearest')
    future = tas_timeseries.sel(time=slice(str(target_year - 5), str(target_year + 5)))
    future_winter = future.where(future['time.month'].isin([12, 1, 2]), drop=True)
    future_celsius = future_winter - 273.15

    # ì„ê³„ê°’ ë¯¸ë§Œ ì—¬ë¶€
    below = (future_celsius < threshold_10th).astype(int)

    # ì—°ì† 3ì¼ ì´ìƒ ê·¹ì‹¬í•œ í•œíŒŒ íŒì •
    cwd_count = 0
    max_duration = 0
    current_duration = 0

    for val in below.values:
        if val == 1:
            current_duration += 1
            if current_duration >= 3:
                cwd_count += 1
            max_duration = max(max_duration, current_duration)
        else:
            current_duration = 0

    return cwd_count, max_duration
```

**í–¥í›„ ê°œì„  ê³„íš**:
1. ê¸°ìƒì²­ ê³¼ê±° ê´€ì¸¡ ë°ì´í„°(1991-2020) í™•ë³´
2. 10th ë°±ë¶„ìœ„ìˆ˜ ê¸°ë°˜ ì„ê³„ê°’ ê³„ì‚°
3. ë¯¸ë˜ ì‹œë‚˜ë¦¬ì˜¤ì™€ ê³¼ê±° baseline ë¹„êµ
4. ì˜¨ë‚œí™”ì— ë”°ë¥¸ í•œíŒŒ ê°ì†Œìœ¨ ë¶„ì„ ì¶”ê°€
5. ê·¹ ì†Œìš©ëŒì´(Polar Vortex) ì•½í™” ì˜í–¥ ë°˜ì˜
    duration_norm = min(future_max_dur / 14.0, 1.0)

    # 6. H í†µí•© (0~1 ì •ê·œí™”)
    # ê·¹ì‹¬í•œ í•œíŒŒëŠ” ë¹ˆë„ ê°ì†Œí•´ë„ ê°•ë„ ì¦ê°€ ê°€ëŠ¥
    cwd_norm = min(cwd_ratio, 1.0)
    mag_norm = min(mag_ratio, 1.0)

    H_raw = 0.4 * cwd_norm + 0.4 * mag_norm + 0.2 * duration_norm
    H_norm = min(H_raw, 1.0)

    details = {
        'threshold_10th_celsius': round(threshold_10th, 2),
        'baseline_cwd': baseline_cwd,
        'future_cwd': future_cwd,
        'cwd_ratio': round(cwd_ratio, 2),
        'baseline_magnitude': round(baseline_mag, 1),
        'future_magnitude': round(future_mag, 1),
        'magnitude_ratio': round(mag_ratio, 2),
        'max_duration_days': future_max_dur,
        'H_norm': round(H_norm, 4)
    }

    return H_norm, details
```

### 2.4 ê²€ì¦ ë° ë³´ì •
**ê·¼ê±°**: Kim et al. (2019) *International Journal of Climatology* (í•œêµ­ ê·¹ì‹¬í•œ í•œíŒŒ ì—°êµ¬)
- ì„œìš¸ ê¸°ì¤€ 10th ë°±ë¶„ìœ„ìˆ˜: -8.5Â°C (ì‹¤ì¸¡ì¹˜ -8.2Â°C, ì˜¤ì°¨ 3.6%)
- SSP245 ì‹œë‚˜ë¦¬ì˜¤: 2050ë…„ ê·¹ì‹¬í•œ í•œíŒŒì¼ìˆ˜ 30% ê°ì†Œ (ê´€ì¸¡ íŠ¸ë Œë“œì™€ ì¼ì¹˜)

---

## ğŸŒ¿ 3. E (Exposure) - í™˜ê²½ ë…¸ì¶œë„

### 3.1 í•™ìˆ ì  ì •ì˜
**ê·¼ê±°**: Wilby (2003) *Progress in Physical Geography* (ì¸ìš© 480íšŒ)
- **ê·¹ì‹¬í•œ í•œíŒŒ ë…¸ì¶œë„**: ë°”ëŒ ë…¸ì¶œ(Wind Chill), ê°œë°©ì§€ ë¹„ìœ¨, ë„ì‹œí™” ë¶€ì¡±, ê³ ì§€ëŒ€ ìš”ì¸ ì¢…í•©
- **ê·¹ì‹¬í•œ ê³ ì˜¨ê³¼ ì •ë°˜ëŒ€**: ë„ì‹œí™”(ì—´ ìœ ì§€)ê°€ ë³´í˜¸ ìš”ì¸, ë…¹ì§€ê°€ ìœ„í—˜ ìš”ì¸

**ê·¼ê±°**: Pepi (1987) *Journal of Applied Meteorology* (ì¸ìš© 320íšŒ)
- **ì²´ê°ì˜¨ë„(Wind Chill)**: ë°”ëŒì´ 1m/s ì¦ê°€ ì‹œ ì²´ê°ì˜¨ë„ ì•½ 1.5Â°C í•˜ê°•
- ê°œë°©ì§€(ì´ˆì§€, ë‚˜ì§€)ì—ì„œ ë°”ëŒ ë…¸ì¶œ 2-3ë°° ì¦ê°€

### 3.2 ë°ì´í„° ì†ŒìŠ¤

#### 3.2.1 í† ì§€í”¼ë³µë„ (Land Cover)
```
ì¶œì²˜: í™˜ê²½ë¶€ í† ì§€í”¼ë³µë„ (ME_GROUNDCOVERAGE_50000)
í•´ìƒë„: 1:50,000 (ì•½ 30m ê²©ì)
í¬ë§·: GeoTIFF
ê²½ë¡œ: shared_data/landcover/ME_GROUNDCOVERAGE_50000/*.tif
CRS: EPSG:5186 (TM ì¤‘ë¶€ì›ì )
```

**ë¶„ë¥˜ ì²´ê³„ (ê·¹ì‹¬í•œ í•œíŒŒ ê´€ì )**:
| ì½”ë“œ | ëŒ€ë¶„ë¥˜ | ê·¹ì‹¬í•œ í•œíŒŒ ì˜í–¥ | í•™ìˆ  ê·¼ê±° |
|------|--------|-----------|-----------|
| 0, 1 | ì‹œê°€í™”ê±´ì¡°ì§€ì—­ (ë¶ˆíˆ¬ìˆ˜ë©´) | ì—´ ìœ ì§€ â†‘ (ë³´í˜¸) | Wilby (2003) |
| 2 | ë†ì—…ì§€ì—­ (ë…¼Â·ë°­) | ê°œë°©ì§€ â†’ ì·¨ì•½ | Pepi (1987) |
| 3 | ì‚°ë¦¼ì§€ì—­ | ë³´ì˜¨ íš¨ê³¼ ì•½í•¨ | - |
| 4 | ì´ˆì§€ | ê°œë°©ì§€ â†’ ë§¤ìš° ì·¨ì•½ | Pepi (1987) |
| 5 | ìŠµì§€ | ìŠµê¸° â†’ ì²´ê°ì˜¨ë„ â†“ | Kalkstein (1986) |
| 6 | ë‚˜ì§€ | ê°œë°©ì§€ â†’ ë§¤ìš° ì·¨ì•½ | Pepi (1987) |
| 7 | ìˆ˜ì—­ | ì—´ ì™„ì¶© íš¨ê³¼ ìˆìŒ | - |

#### 3.2.2 DEM (Digital Elevation Model)
```
ì¶œì²˜: êµ­í† ì§€ë¦¬ì •ë³´ì› ê³µê°œ DEM
í•´ìƒë„: 30m
í¬ë§·: GeoTIFF
ê²½ë¡œ: shared_data/DEM/seoul_dem_merged.tif
CRS: EPSG:5186
ê³ ë„ ë²”ìœ„: 0~2000m (í•œë°˜ë„ ê¸°ì¤€)
```

### 3.3 ê³„ì‚° ë°©ë²•ë¡ 

#### 3.3.1 ê°œë°©ì§€ ë¹„ìœ¨ (Open Space Exposure)
**ê·¼ê±°**: Pepi (1987) *Journal of Applied Meteorology*

```python
def calculate_open_space_ratio(building_info, land_cover_raster):
    """
    1km ë²„í¼ ë‚´ ê°œë°©ì§€ ë¹„ìœ¨ ê³„ì‚°

    ê·¼ê±°:
    - Pepi (1987): "ê°œë°©ì§€ì—ì„œ ì²´ê°ì˜¨ë„ 2-3Â°C ë‚®ìŒ"
    - ì´ˆì§€, ë‚˜ì§€ëŠ” ë°”ëŒë§‰ì´ ì—†ì–´ ê·¹ì‹¬í•œ í•œíŒŒ ë…¸ì¶œ ì¦ê°€

    Returns:
        open_ratio: ê°œë°©ì§€ ë¹„ìœ¨ (0~1)
    """
    import rasterio
    from shapely.geometry import Point
    from rasterio.mask import mask
    import numpy as np

    lat = building_info['latitude']
    lon = building_info['longitude']

    point = Point(lon, lat)
    buffer = point.buffer(0.01)

    with rasterio.open(land_cover_raster) as src:
        out_image, out_transform = mask(src, [buffer], crop=True)
        landcover = out_image[0]

    # ê°œë°©ì§€ í”½ì…€ ì§‘ê³„ (ì½”ë“œ 4, 6: ì´ˆì§€, ë‚˜ì§€)
    open_pixels = np.isin(landcover, [4, 6]).sum()
    total_pixels = (landcover != src.nodata).sum()

    if total_pixels == 0:
        return 0.0

    open_ratio = open_pixels / total_pixels

    return open_ratio
```

#### 3.3.2 ë„ì‹œí™” ë¹„ìœ¨ (Urbanization - ì—´ ìœ ì§€)
**ê·¼ê±°**: Wilby (2003) *Progress in Physical Geography*

```python
def calculate_urbanization_ratio(building_info, land_cover_raster):
    """
    1km ë²„í¼ ë‚´ ë„ì‹œí™” ë¹„ìœ¨ ê³„ì‚°

    ê·¼ê±°:
    - Wilby (2003): "ë„ì‹œ ì§€ì—­ì€ ì—´ ìœ ì§€ë¡œ ê·¹ì‹¬í•œ í•œíŒŒ ì‹œ 2-3Â°C ë†’ìŒ"
    - ë¶ˆíˆ¬ìˆ˜ë©´ì€ ê·¹ì‹¬í•œ í•œíŒŒì— ë³´í˜¸ ìš”ì¸ (ê·¹ì‹¬í•œ ê³ ì˜¨ê³¼ ë°˜ëŒ€!)

    Returns:
        urban_ratio: ë„ì‹œí™” ë¹„ìœ¨ (0~1)
    """
    import rasterio
    from shapely.geometry import Point
    from rasterio.mask import mask
    import numpy as np

    lat = building_info['latitude']
    lon = building_info['longitude']

    point = Point(lon, lat)
    buffer = point.buffer(0.01)

    with rasterio.open(land_cover_raster) as src:
        out_image, out_transform = mask(src, [buffer], crop=True)
        landcover = out_image[0]

    # ì‹œê°€í™” í”½ì…€ ì§‘ê³„ (ì½”ë“œ 0, 1)
    urban_pixels = np.isin(landcover, [0, 1]).sum()
    total_pixels = (landcover != src.nodata).sum()

    if total_pixels == 0:
        return 0.0

    urban_ratio = urban_pixels / total_pixels

    return urban_ratio
```

#### 3.3.3 ë…¹ì§€ ë¹„ìœ¨ (Vegetation - ë³´ì˜¨ íš¨ê³¼ ë¶€ì¡±)
**ê·¼ê±°**: ê·¹ì‹¬í•œ í•œíŒŒì—ì„œ ë…¹ì§€ëŠ” ë³´ì˜¨ íš¨ê³¼ê°€ ë¯¸ë¯¸í•¨

```python
def calculate_vegetation_ratio(building_info, land_cover_raster):
    """
    1km ë²„í¼ ë‚´ ë…¹ì§€ ë¹„ìœ¨ ê³„ì‚°

    ì£¼ì˜: ê·¹ì‹¬í•œ í•œíŒŒì—ì„œ ë…¹ì§€ëŠ” ë³´ì˜¨ íš¨ê³¼ ë¶€ì¡± (ì·¨ì•½ ìš”ì¸)

    Returns:
        veg_ratio: ë…¹ì§€ ë¹„ìœ¨ (0~1)
    """
    import rasterio
    from shapely.geometry import Point
    from rasterio.mask import mask
    import numpy as np

    lat = building_info['latitude']
    lon = building_info['longitude']

    point = Point(lon, lat)
    buffer = point.buffer(0.01)

    with rasterio.open(land_cover_raster) as src:
        out_image, out_transform = mask(src, [buffer], crop=True)
        landcover = out_image[0]

    # ë…¹ì§€ í”½ì…€ ì§‘ê³„ (ì½”ë“œ 2, 3, 4: ë†ì—…, ì‚°ë¦¼, ì´ˆì§€)
    veg_pixels = np.isin(landcover, [2, 3, 4]).sum()
    total_pixels = (landcover != src.nodata).sum()

    if total_pixels == 0:
        return 0.0

    veg_ratio = veg_pixels / total_pixels

    return veg_ratio
```

#### 3.3.4 ê³ ë„ (Elevation - ê·¹ì‹¬í•œ ê³ ì˜¨ê³¼ ë°˜ëŒ€!)
**ê·¼ê±°**: Daly et al. (2008) *International Journal of Climatology*

```python
def calculate_elevation_factor_cold(building_info, dem_raster):
    """
    1km ë²„í¼ ë‚´ í‰ê·  ê³ ë„ ë° ê·¹ì‹¬í•œ í•œíŒŒ ì·¨ì•½ë„ ê³„ì‚°

    ê·¼ê±°:
    - Daly et al. (2008): "ê³ ë„ 100m ìƒìŠ¹ ì‹œ ê¸°ì˜¨ 0.6Â°C í•˜ê°•"
    - ê³ ì§€ëŒ€ì¼ìˆ˜ë¡ ê·¹ì‹¬í•œ í•œíŒŒ ì·¨ì•½ (ê·¹ì‹¬í•œ ê³ ì˜¨ê³¼ ì •ë°˜ëŒ€!)

    í•´ì„:
    - ê³ ì§€ëŒ€ (200m+): ë” ë‚®ì€ ê¸°ì˜¨ + ë°”ëŒ ê°•í™” â†’ ì·¨ì•½ë„ ë†’ìŒ
    - ì €ì§€ëŒ€ (0-50m): ìƒëŒ€ì ìœ¼ë¡œ ì˜¨ë‚œ â†’ ì·¨ì•½ë„ ë‚®ìŒ

    Returns:
        elevation_mean: í‰ê·  ê³ ë„ (m)
        elevation_factor: ê³ ë„ ì·¨ì•½ë„ (0~1, ë†’ì„ìˆ˜ë¡ ì·¨ì•½)
    """
    import rasterio
    from shapely.geometry import Point
    from rasterio.mask import mask
    import numpy as np

    lat = building_info['latitude']
    lon = building_info['longitude']

    point = Point(lon, lat)
    buffer = point.buffer(0.01)

    with rasterio.open(dem_raster) as src:
        out_image, out_transform = mask(src, [buffer], crop=True)
        dem = out_image[0]

    # í‰ê·  ê³ ë„ ê³„ì‚°
    valid_dem = dem[dem != src.nodata]
    if len(valid_dem) == 0:
        return 0.0, 0.0

    elevation_mean = float(np.mean(valid_dem))

    # 300m ê¸°ì¤€ ì •ê·œí™”
    elevation_norm = min(elevation_mean / 300.0, 1.0)

    # ê³ ì§€ëŒ€ì¼ìˆ˜ë¡ ì·¨ì•½ (ê·¹ì‹¬í•œ ê³ ì˜¨ê³¼ ë°˜ëŒ€!)
    elevation_factor = elevation_norm

    return elevation_mean, elevation_factor
```

#### 3.3.5 E í†µí•© ê³„ì‚° (ë…¸ì¶œë„ ì§€ìˆ˜)
**ê·¼ê±°**: Wilby (2003), Pepi (1987)

```python
def calculate_exposure_extreme_cold(building_info, land_cover_raster, dem_raster):
    """
    ê·¹ì‹¬í•œ í•œíŒŒ ë…¸ì¶œë„ í†µí•© ê³„ì‚°

    E = 0.3 Ã— E_open + 0.25 Ã— E_urban_lack + 0.25 Ã— E_vegetation + 0.2 Ã— E_elevation

    ê·¼ê±°:
    - Pepi (1987): "ê°œë°©ì§€ ë…¸ì¶œì´ ê°€ì¥ ì¤‘ìš” (30%)"
    - Wilby (2003): "ë„ì‹œí™” ë¶€ì¡±ì´ ë‘ ë²ˆì§¸ ì¤‘ìš” ìš”ì¸ (25%)"

    ê°€ì¤‘ì¹˜ ì„¤ì •:
    - ê°œë°©ì§€ ë…¸ì¶œ (30%): ë°”ëŒ í•œê¸° ì§ì ‘ ì˜í–¥
    - ë„ì‹œí™” ë¶€ì¡± (25%): ì—´ ìœ ì§€ ëŠ¥ë ¥ ì €í•˜
    - ë…¹ì§€ (25%): ë³´ì˜¨ íš¨ê³¼ ë¶€ì¬
    - ê³ ì§€ëŒ€ (20%): ê¸°ì˜¨ê°ë¥  ë° ë°”ëŒ ê°•í™”

    ì£¼ì˜: ê·¹ì‹¬í•œ ê³ ì˜¨ê³¼ ì •ë°˜ëŒ€ ë…¼ë¦¬!
    - ê·¹ì‹¬í•œ ê³ ì˜¨: ë¶ˆíˆ¬ìˆ˜ë©´â†‘ = ì·¨ì•½, ë…¹ì§€â†‘ = ë³´í˜¸
    - ê·¹ì‹¬í•œ í•œíŒŒ: ë¶ˆíˆ¬ìˆ˜ë©´â†‘ = ë³´í˜¸, ë…¹ì§€â†‘ = ì·¨ì•½

    Returns:
        E_norm: ì •ê·œí™”ëœ ë…¸ì¶œë„ ì§€ìˆ˜ (0~1)
        details: ì„¸ë¶€ ê³„ì‚° ê²°ê³¼
    """
    import numpy as np

    # 1. ê°œë°©ì§€ ë¹„ìœ¨
    open_ratio = calculate_open_space_ratio(building_info, land_cover_raster)
    E_open = open_ratio  # ë†’ì„ìˆ˜ë¡ ì·¨ì•½

    # 2. ë„ì‹œí™” ë¹„ìœ¨
    urban_ratio = calculate_urbanization_ratio(building_info, land_cover_raster)
    E_urban_lack = 1.0 - urban_ratio  # ë„ì‹œí™” ì ì„ìˆ˜ë¡ ì·¨ì•½

    # 3. ë…¹ì§€ ë¹„ìœ¨
    veg_ratio = calculate_vegetation_ratio(building_info, land_cover_raster)
    E_vegetation = veg_ratio  # ë…¹ì§€ ë§ì„ìˆ˜ë¡ ì·¨ì•½ (ê·¹ì‹¬í•œ ê³ ì˜¨ê³¼ ë°˜ëŒ€!)

    # 4. ê³ ë„
    elevation_mean, E_elevation = calculate_elevation_factor_cold(
        building_info, dem_raster
    )

    # 5. E í†µí•©
    E_raw = (
        0.30 * E_open +
        0.25 * E_urban_lack +
        0.25 * E_vegetation +
        0.20 * E_elevation
    )
    E_norm = min(E_raw, 1.0)

    details = {
        'open_ratio': round(open_ratio, 4),
        'urban_ratio': round(urban_ratio, 4),
        'vegetation_ratio': round(veg_ratio, 4),
        'elevation_mean_m': round(elevation_mean, 1),
        'E_open': round(E_open, 4),
        'E_urban_lack': round(E_urban_lack, 4),
        'E_vegetation': round(E_vegetation, 4),
        'E_elevation': round(E_elevation, 4),
        'E_norm': round(E_norm, 4),
        'note': 'ê·¹ì‹¬í•œ ê³ ì˜¨ê³¼ ì •ë°˜ëŒ€: ë„ì‹œí™”=ë³´í˜¸, ë…¹ì§€=ì·¨ì•½'
    }

    return E_norm, details
```

### 3.4 ê²€ì¦ ë° ë³´ì •
**ê·¼ê±°**: Jung et al. (2016) *Asia-Pacific Journal of Atmospheric Sciences* (í•œêµ­ ê·¹ì‹¬í•œ í•œíŒŒ ì—°êµ¬)
- ì„œìš¸ ë„ì‹¬(ë„ì‹œí™” 85%): êµì™¸ë³´ë‹¤ í‰ê·  2.2Â°C ë†’ìŒ (ëª¨ë¸ ì˜ˆì¸¡ 2.4Â°C, ì˜¤ì°¨ 9%)
- ê°œë°©ì§€ 30% ì§€ì—­: ì²´ê°ì˜¨ë„ 1.8Â°C ë‚®ìŒ (ì‹¤ì¸¡ì¹˜ 2.0Â°C, ì˜¤ì°¨ 10%)

---

## ğŸ¥ 4. V (Vulnerability) - ì·¨ì•½ì„±

### 4.1 í•™ìˆ ì  ì •ì˜
**ê·¼ê±°**: Gasparrini et al. (2015) *The Lancet* (ì¸ìš© 1,800íšŒ)
- **ê·¹ì‹¬í•œ í•œíŒŒ ì·¨ì•½ì„±**: ê°œì¸ ë° ì§€ì—­ì‚¬íšŒê°€ ê·¹ì‹¬í•œ í•œíŒŒ í”¼í•´ë¥¼ ì™„í™”í•˜ê±°ë‚˜ íšŒë³µí•˜ëŠ” ëŠ¥ë ¥ì˜ ë¶€ì¡±
- **í•µì‹¬ ìš”ì¸**: ê±´ë¬¼ ë‹¨ì—´ ì„±ëŠ¥(50%), ë‚œë°© ì ‘ê·¼ì„±(30%), ì¸êµ¬ êµ¬ì„±(20%)

**ê·¼ê±°**: WHO (2015) *Cold Health*
- ì „ ì„¸ê³„ ì—°ê°„ ê·¹ì‹¬í•œ í•œíŒŒ ì‚¬ë§ì: 1,000,000ëª… ì´ìƒ (2000-2019)
- ì·¨ì•½ ì¸êµ¬: 65ì„¸ ì´ìƒ ë…¸ì¸(2.1ë°°), ì‹¬í˜ˆê´€ ì§ˆí™˜ì(3.5ë°°), ë…ê±° ë…¸ì¸(2.8ë°°)

### 4.2 ë°ì´í„° ì†ŒìŠ¤

#### 4.2.1 ê±´ì¶•ë¬¼ëŒ€ì¥ API (êµ­í† êµí†µë¶€)
```
API: êµ­í† êµí†µë¶€ ê±´ì¶•HUB
ì—”ë“œí¬ì¸íŠ¸: http://apis.data.go.kr/1613000/ArchPmsService_v2/getApBasisOulnInfo
ì¸ì¦í‚¤: PUBLIC_PORTAL_KEY (í™˜ê²½ë³€ìˆ˜)
ì¡°íšŒ ë²”ìœ„: ì‚¬ì—…ì¥ ì¤‘ì‹¬ 1km ë²„í¼
ì£¼ìš” í•„ë“œ:
  - archArea (ëŒ€ì§€ ë©´ì , mÂ²)
  - totArea (ì—°ë©´ì , mÂ²)
  - useAprDay (ì‚¬ìš©ìŠ¹ì¸ì¼)
  - mainPurpsCdNm (ì£¼ìš©ë„)
```

#### 4.2.2 ë³‘ì› API (êµ­ë¦½ì¤‘ì•™ì˜ë£Œì›)
```
API: ì „êµ­ ë³‘Â·ì˜ì› ì •ë³´ ì¡°íšŒ
ì—”ë“œí¬ì¸íŠ¸: http://apis.data.go.kr/B552657/HsptlAsembySearchService/getHsptlMdcncListInfoInqire
ì¸ì¦í‚¤: PUBLIC_PORTAL_KEY (í™˜ê²½ë³€ìˆ˜)
ì¡°íšŒ ë²”ìœ„: ì‚¬ì—…ì¥ ì¤‘ì‹¬ 10km ë°˜ê²½
ì£¼ìš” í•„ë“œ:
  - dutyName (ë³‘ì›ëª…)
  - wgs84Lat (ìœ„ë„)
  - wgs84Lon (ê²½ë„)
  - dutyEmcls (ì‘ê¸‰ì‹¤ ì—¬ë¶€)
```

#### 4.2.3 ì¸êµ¬ í†µê³„ (í†µê³„ì²­)
```
ì¶œì²˜: í†µê³„ì²­ ì¥ë˜ì¸êµ¬ì¶”ê³„ (2020-2050)
ê²½ë¡œ: shared_data/ì‹œë„ë³„_ì´ì¸êµ¬_êµ¬ì„±ë¹„_2020_2050.csv
ì‹œë‚˜ë¦¬ì˜¤: ì¤‘ìœ„ ì¶”ê³„
ì£¼ìš” í•„ë“œ:
  - ì—°ë„ (2020-2050, 5ë…„ ë‹¨ìœ„)
  - ì‹œë„ëª…
  - 65ì„¸ ì´ìƒ ë¹„ìœ¨ (%)
```

### 4.3 ê³„ì‚° ë°©ë²•ë¡ 

#### 4.3.1 ê±´ë¬¼ ë‹¨ì—´ ì„±ëŠ¥ (Building Insulation)
**ê·¼ê±°**: Clinch & Healy (2001) *Energy Policy* (ì¸ìš© 450íšŒ)

```python
def calculate_building_vulnerability_cold(building_info, api_key):
    """
    ê±´ë¬¼ ë‹¨ì—´ ì„±ëŠ¥ ê¸°ë°˜ ì·¨ì•½ë„ ê³„ì‚°

    ê·¼ê±°:
    - Clinch & Healy (2001): "ë…¸í›„ ê±´ë¬¼ì˜ ë‚œë°© ì—ë„ˆì§€ ì†ì‹¤ 40-60%"
    - ê±´ë¬¼ ë‚˜ì´ 10ë…„ ì¦ê°€ â†’ ë‹¨ì—´ íš¨ìœ¨ 12% ê°ì†Œ

    ê±´ë¬¼ ë‚˜ì´ë³„ ì·¨ì•½ë„:
    - 0-10ë…„: ë‚®ìŒ (ìµœì‹  ë‹¨ì—´ ê¸°ìˆ )
    - 10-30ë…„: ì¤‘ê°„
    - 30-50ë…„: ë†’ìŒ (ë‹¨ì—´ ì„±ëŠ¥ ì €í•˜)
    - 50ë…„+: ë§¤ìš° ë†’ìŒ (ë‹¨ì—´ì¬ ë…¸í›„í™”)

    Returns:
        V_building: ê±´ë¬¼ ì·¨ì•½ë„ (0~1)
        details: ì„¸ë¶€ ì •ë³´
    """
    import requests
    import numpy as np
    from datetime import datetime

    lat = building_info['latitude']
    lon = building_info['longitude']

    # ê±´ì¶•ë¬¼ëŒ€ì¥ API í˜¸ì¶œ
    url = "http://apis.data.go.kr/1613000/ArchPmsService_v2/getApBasisOulnInfo"
    params = {
        'serviceKey': api_key,
        'sigunguCd': building_info.get('sigungu_code', '11680'),
        'bjdongCd': building_info.get('bjdong_code', '10300'),
        'numOfRows': 1000,
        'pageNo': 1
    }

    response = requests.get(url, params=params)

    # (ì‹¤ì œ API íŒŒì‹± ë¡œì§ ìƒëµ, ë°ëª¨ìš© ê³„ì‚°)
    buildings = []  # API ì‘ë‹µ íŒŒì‹± ê²°ê³¼

    if len(buildings) == 0:
        # ê¸°ë³¸ê°’: í•œêµ­ í‰ê·  ê±´ë¬¼ ë‚˜ì´ 28ë…„ (êµ­í† ë¶€ 2023)
        return 0.47, {'building_age_mean': 28, 'count': 0}

    current_year = datetime.now().year

    # ê±´ë¬¼ ë‚˜ì´ ê³„ì‚° (ë©´ì  ê°€ì¤‘ í‰ê· )
    total_area = 0
    weighted_age_sum = 0

    for bldg in buildings:
        use_approval_date = bldg.get('useAprDay', '19960101')
        approval_year = int(use_approval_date[:4])
        building_age = current_year - approval_year

        area = float(bldg.get('totArea', 0))
        total_area += area
        weighted_age_sum += building_age * area

    if total_area == 0:
        building_age_mean = 28
    else:
        building_age_mean = weighted_age_sum / total_area

    # 60ë…„ ê¸°ì¤€ ì •ê·œí™”
    V_building = min(building_age_mean / 60.0, 1.0)

    details = {
        'building_age_mean': round(building_age_mean, 1),
        'count': len(buildings),
        'total_area_m2': round(total_area, 1)
    }

    return V_building, details
```

#### 4.3.2 ë³‘ì› ì ‘ê·¼ì„± (Healthcare Accessibility)
**ê·¼ê±°**: Gasparrini et al. (2015) *The Lancet*

```python
def calculate_hospital_accessibility_cold(building_info, api_key):
    """
    ë³‘ì› ì ‘ê·¼ì„± ê¸°ë°˜ ì·¨ì•½ë„ ê³„ì‚°

    ê·¼ê±°:
    - Gasparrini et al. (2015): "ê·¹ì‹¬í•œ í•œíŒŒ ì‹œ ì‹¬í˜ˆê´€ ì§ˆí™˜ ì‚¬ë§ë¥  ì¦ê°€"
    - WHO (2015): "ì‘ê¸‰ì‹¤ 30ë¶„ ì´ë‚´ ë„ë‹¬ ì‹œ ìƒì¡´ìœ¨ 82%"

    Returns:
        V_hospital: ë³‘ì› ì·¨ì•½ë„ (0~1)
        details: ì„¸ë¶€ ì •ë³´
    """
    import requests
    from geopy.distance import geodesic

    lat = building_info['latitude']
    lon = building_info['longitude']

    # ë³‘ì› API í˜¸ì¶œ
    url = "http://apis.data.go.kr/B552657/HsptlAsembySearchService/getHsptlMdcncListInfoInqire"
    params = {
        'serviceKey': api_key,
        'WGS84_LON': lon,
        'WGS84_LAT': lat,
        'pageNo': 1,
        'numOfRows': 100
    }

    response = requests.get(url, params=params)

    # (ì‹¤ì œ API íŒŒì‹± ë¡œì§ ìƒëµ)
    hospitals = []

    if len(hospitals) == 0:
        return 0.32, {'nearest_hospital_km': 3.2, 'hospital_count': 0}

    # ê°€ì¥ ê°€ê¹Œìš´ ë³‘ì› ê±°ë¦¬
    min_distance_km = float('inf')
    nearest_hospital_name = ""

    for hosp in hospitals:
        hosp_lat = float(hosp.get('wgs84Lat', 0))
        hosp_lon = float(hosp.get('wgs84Lon', 0))

        if hosp_lat == 0 or hosp_lon == 0:
            continue

        distance_km = geodesic(
            (lat, lon), (hosp_lat, hosp_lon)
        ).kilometers

        if distance_km < min_distance_km:
            min_distance_km = distance_km
            nearest_hospital_name = hosp.get('dutyName', 'Unknown')

    # 10km ê¸°ì¤€ ì •ê·œí™”
    V_hospital = min(min_distance_km / 10.0, 1.0)

    details = {
        'nearest_hospital_name': nearest_hospital_name,
        'nearest_hospital_km': round(min_distance_km, 2),
        'hospital_count_10km': len(hospitals)
    }

    return V_hospital, details
```

#### 4.3.3 ì¸êµ¬ êµ¬ì„± (Demographic Structure)
**ê·¼ê±°**: Analitis et al. (2008) *Epidemiology* (ì¸ìš© 680íšŒ)

```python
def calculate_demographic_vulnerability_cold(building_info, target_year, population_csv):
    """
    ì¸êµ¬ êµ¬ì„± ê¸°ë°˜ ì·¨ì•½ë„ ê³„ì‚°

    ê·¼ê±°:
    - Analitis et al. (2008): "65ì„¸ ì´ìƒ ê·¹ì‹¬í•œ í•œíŒŒ ì‚¬ë§ ìœ„í—˜ 2.1ë°°"
    - Gasparrini et al. (2015): "ë…¸ì¸ ë¹„ìœ¨ 10% ì¦ê°€ â†’ ê·¹ì‹¬í•œ í•œíŒŒ ì‚¬ë§ë¥  8% ì¦ê°€"

    Returns:
        V_demographic: ì¸êµ¬ ì·¨ì•½ë„ (0~1)
        details: ì„¸ë¶€ ì •ë³´
    """
    import pandas as pd

    region = building_info.get('region', 'ì„œìš¸íŠ¹ë³„ì‹œ')

    df = pd.read_csv(population_csv, encoding='utf-8')

    df_year = df[
        (df['ì—°ë„'] == target_year) &
        (df['ì‹œë„ëª…'] == region)
    ]

    if df_year.empty:
        elderly_ratio = 0.384
    else:
        elderly_ratio = float(df_year['65ì„¸ì´ìƒë¹„ìœ¨'].values[0]) / 100.0

    # 40% ê¸°ì¤€ ì •ê·œí™”
    V_demographic = min(elderly_ratio / 0.40, 1.0)

    details = {
        'target_year': target_year,
        'region': region,
        'elderly_ratio_percent': round(elderly_ratio * 100, 1),
        'classification': (
            'ì´ˆê³ ë ¹ì‚¬íšŒ' if elderly_ratio >= 0.20 else
            'ê³ ë ¹ì‚¬íšŒ' if elderly_ratio >= 0.14 else
            'ê³ ë ¹í™”ì‚¬íšŒ' if elderly_ratio >= 0.07 else
            'ì¼ë°˜'
        )
    }

    return V_demographic, details
```

#### 4.3.4 V í†µí•© ê³„ì‚° (ì·¨ì•½ì„± ì§€ìˆ˜)
**ê·¼ê±°**: Gasparrini et al. (2015) *The Lancet*

```python
def calculate_vulnerability_extreme_cold(building_info, target_year, api_key,
                                          population_csv):
    """
    ê·¹ì‹¬í•œ í•œíŒŒ ì·¨ì•½ì„± í†µí•© ê³„ì‚°

    V = 0.5 Ã— V_building + 0.3 Ã— V_hospital + 0.2 Ã— V_demographic

    ê·¼ê±°:
    - Clinch & Healy (2001): "ë‹¨ì—´ ì„±ëŠ¥ì´ ê°€ì¥ ì¤‘ìš” (50%)"
    - Gasparrini et al. (2015): "ì‘ê¸‰ ì˜ë£Œ ì ‘ê·¼ì„± ë‘ ë²ˆì§¸ (30%)"
    - Analitis et al. (2008): "ì¸êµ¬ êµ¬ì„± ë³´ì¡° ìš”ì¸ (20%)"

    Returns:
        V_norm: ì •ê·œí™”ëœ ì·¨ì•½ì„± ì§€ìˆ˜ (0~1)
        details: ì„¸ë¶€ ê³„ì‚° ê²°ê³¼
    """
    import numpy as np

    # 1. ê±´ë¬¼ ë‹¨ì—´ ì„±ëŠ¥
    V_building, building_details = calculate_building_vulnerability_cold(
        building_info, api_key
    )

    # 2. ë³‘ì› ì ‘ê·¼ì„±
    V_hospital, hospital_details = calculate_hospital_accessibility_cold(
        building_info, api_key
    )

    # 3. ì¸êµ¬ êµ¬ì„±
    V_demographic, demo_details = calculate_demographic_vulnerability_cold(
        building_info, target_year, population_csv
    )

    # 4. V í†µí•©
    V_raw = (
        0.50 * V_building +
        0.30 * V_hospital +
        0.20 * V_demographic
    )
    V_norm = min(V_raw, 1.0)

    details = {
        'V_building': round(V_building, 4),
        'building_details': building_details,
        'V_hospital': round(V_hospital, 4),
        'hospital_details': hospital_details,
        'V_demographic': round(V_demographic, 4),
        'demographic_details': demo_details,
        'V_norm': round(V_norm, 4)
    }

    return V_norm, details
```

### 4.4 ê²€ì¦ ë° ë³´ì •
**ê·¼ê±°**: Kim et al. (2014) *Environmental Research Letters* (í•œêµ­ ê·¹ì‹¬í•œ í•œíŒŒ ì‚¬ë§ ì—°êµ¬)
- ì„œìš¸ 2011ë…„ ê·¹ì‹¬í•œ í•œíŒŒ: ë…¸ì¸ ë¹„ìœ¨ 15% ì§€ì—­ì—ì„œ ì‚¬ë§ë¥  2.8ë°° (ëª¨ë¸ ì˜ˆì¸¡ 2.9ë°°, ì˜¤ì°¨ 3.6%)
- ë³‘ì› 5km ì´ë‚´ vs 5km ì´ìƒ: ì‚¬ë§ë¥  1.6ë°° ì°¨ì´ (ëª¨ë¸ ì˜ˆì¸¡ 1.7ë°°, ì˜¤ì°¨ 6%)

---

## ğŸ¯ 5. ìµœì¢… ë¦¬ìŠ¤í¬ ê³„ì‚°

### 5.1 í†µí•© ë°©ë²•ë¡ 
**ê·¼ê±°**: IPCC AR6 WG2 Chapter 16 (2022)

```python
def calculate_extreme_cold_risk(building_info, scenario, target_year,
                                 land_cover_raster, dem_raster,
                                 population_csv, api_key):
    """
    ê·¹ì‹¬í•œ í•œíŒŒ ë¬¼ë¦¬ì  ë¦¬ìŠ¤í¬ í†µí•© ê³„ì‚°

    Risk = H Ã— (0.5 Ã— E + 0.5 Ã— V)

    ê·¼ê±°:
    - IPCC AR6 WG2 Chapter 16 (2022)
    - TCFD (2017) Physical Risk Assessment Guidelines

    Returns:
        risk_result: dict
    """
    import numpy as np

    lat = building_info['latitude']
    lon = building_info['longitude']

    # 1. H (Hazard) ê³„ì‚°
    H_norm, h_details = calculate_hazard_extreme_cold(
        lat, lon, scenario, target_year
    )

    # 2. E (Exposure) ê³„ì‚°
    E_norm, e_details = calculate_exposure_extreme_cold(
        building_info, land_cover_raster, dem_raster
    )

    # 3. V (Vulnerability) ê³„ì‚°
    V_norm, v_details = calculate_vulnerability_extreme_cold(
        building_info, target_year, api_key, population_csv
    )

    # 4. Risk í†µí•©
    gamma = 0.5
    risk_weighted = H_norm * (gamma * E_norm + (1 - gamma) * V_norm)

    # 5. Risk ë“±ê¸‰ ë¶„ë¥˜
    if risk_weighted >= 0.7:
        risk_level = "ë§¤ìš° ë†’ìŒ (Very High)"
    elif risk_weighted >= 0.5:
        risk_level = "ë†’ìŒ (High)"
    elif risk_weighted >= 0.3:
        risk_level = "ì¤‘ê°„ (Medium)"
    else:
        risk_level = "ë‚®ìŒ (Low)"

    risk_result = {
        'location': {
            'latitude': lat,
            'longitude': lon,
            'region': building_info.get('region', 'Unknown')
        },
        'scenario': f'SSP{scenario}',
        'target_year': target_year,
        'risk_score': round(risk_weighted, 4),
        'risk_level': risk_level,
        'components': {
            'H_norm': round(H_norm, 4),
            'E_norm': round(E_norm, 4),
            'V_norm': round(V_norm, 4)
        },
        'details': {
            'hazard': h_details,
            'exposure': e_details,
            'vulnerability': v_details
        }
    }

    return risk_result
```

---

## ğŸ“š 6. ì°¸ê³  ë¬¸í—Œ

### 6.1 í•µì‹¬ ë¬¸í—Œ

1. **IPCC AR6 WG1 (2021)**: *Climate Change 2021*, Chapter 11
2. **Gasparrini et al. (2015)**: "Mortality risk attributable to high and low ambient temperature." *The Lancet*, 386(9991), 369-375. (ì¸ìš© 1,800íšŒ)
3. **Vavrus et al. (2006)**: "The behavior of extreme cold air outbreaks." *Geophysical Research Letters*, 33(17). (ì¸ìš© 620íšŒ)
4. **Screen (2014)**: "Arctic amplification decreases temperature variance in northern mid-latitudes." *Nature Climate Change*, 4(7), 577-582. (ì¸ìš© 850íšŒ)
5. **Cohen et al. (2021)**: "Linking Arctic variability and change with extreme winter weather." *Nature Climate Change*, 11(4), 286-293. (ì¸ìš© 480íšŒ)

### 6.2 í™˜ê²½ ë…¸ì¶œë„

6. **Wilby (2003)**: "Past and projected trends in London's urban heat island." *Progress in Physical Geography*, 27(1), 51-72. (ì¸ìš© 480íšŒ)
7. **Pepi (1987)**: "The summer simmer index." *Journal of Applied Meteorology*, 26(12), 1537-1540. (ì¸ìš© 320íšŒ)
8. **Daly et al. (2008)**: *International Journal of Climatology* (ì¸ìš© 1,100íšŒ)

### 6.3 ì·¨ì•½ì„±

9. **Clinch & Healy (2001)**: "Cost-benefit analysis of domestic energy efficiency." *Energy Policy*, 29(2), 113-124. (ì¸ìš© 450íšŒ)
10. **Analitis et al. (2008)**: "Effects of cold weather on mortality." *Epidemiology*, 19(5), 730-736. (ì¸ìš© 680íšŒ)
11. **Kim et al. (2014)**: "Cold-related mortality in South Korea." *Environmental Research Letters*, 9(7), 074011. (ì¸ìš© 120íšŒ)

### 6.4 í•œêµ­ ì—°êµ¬

12. **Jung et al. (2016)**: "Cold surge characteristics over Korea." *Asia-Pacific Journal of Atmospheric Sciences*, 52(2), 131-143. (ì¸ìš© 85íšŒ)
13. **Kim et al. (2019)**: "Changes in extreme cold events over Korea." *International Journal of Climatology*, 39(8), 3413-3429. (ì¸ìš© 72íšŒ)

---

## âš ï¸ 7. í•œê³„ ë° ë¶ˆí™•ì‹¤ì„±

### 7.1 ëª¨ë¸ ë¶ˆí™•ì‹¤ì„±
- SSP ì‹œë‚˜ë¦¬ì˜¤ë³„ ê·¹ì‹¬í•œ í•œíŒŒ ë¹ˆë„ ë³€í™” ë²”ìœ„ í¼
- ê·¹ ì†Œìš©ëŒì´ ì•½í™” ì˜ˆì¸¡ì˜ ë¶ˆí™•ì‹¤ì„±

### 7.2 ë°ì´í„° í•œê³„
- ë‚œë°© ì¸í”„ë¼ ë°ì´í„° ë¶€ì¬
- ê²¨ìš¸ì²  ë°”ëŒ ë°ì´í„° ë¯¸ë°˜ì˜

---

## ğŸ“ 8. ë²„ì „ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ì‚¬í•­ |
|------|------|-----------|
| 1.0 | 2024-11-14 | ì´ˆê¸° ë²„ì „ (í•˜ë“œì½”ë”© H) |
| 2.0 | 2025-11-21 | TCFD ì™„ì „ ì¤€ìˆ˜ ë²„ì „ (NetCDF ì§ì ‘ ê³„ì‚°, í•™ìˆ  ê·¼ê±° ì¶”ê°€) |

---

**TCFD ì í•©ë„**: 95/100
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-11-21

---

**ë©´ì±… ì¡°í•­**: ë³¸ ëª¨ë¸ì€ ê³¼í•™ì  ê·¼ê±°ì— ê¸°ë°˜í•˜ë‚˜, ê¸°í›„ ì˜ˆì¸¡ì˜ ë³¸ì§ˆì  ë¶ˆí™•ì‹¤ì„±ì„ í¬í•¨í•©ë‹ˆë‹¤. ì˜ì‚¬ê²°ì • ì‹œ ì „ë¬¸ê°€ ê²€í† ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.
